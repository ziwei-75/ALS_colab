2023-07-11 14:51:07,130  INFO  - Running with database db.url = jdbc:hsqldb:mem:b49ad711-2a70-42a1-ad85-e56804cdcea1;shutdown=false;hsqldb.tx=mvcc
Running Changeset: changesets/db_schema.xml::db_schema_other_table_alldb::scottfrazer
Running Changeset: changesets/db_schema.xml::db_schema_symbol_table_otherdb::scottfrazer
Running Changeset: changesets/db_schema.xml::db_schema_constraints::scottfrazer
Running Changeset: changesets/symbol_iteration_null.xml::symbol_iteration_null::kshakir
Running Changeset: changesets/wdl_and_inputs.xml::WORKFLOW_EXECUTION_AUX::mcovarr
Running Changeset: changesets/wdl_and_inputs.xml::WE_AUX_CONSTRAINTS::mcovarr
Running Changeset: changesets/drop_workflow_uri_and_local_command.xml::drop_workflow_uri_and_local_command::kshakir
Running Changeset: changesets/local_job_allow_null.xml::local_job_allow_null::kshakir
Running Changeset: changesets/symbol_iteration_not_null.xml::symbol_iteration_not_null::kshakir
Running Changeset: changesets/add_unique_constraints.xml::add_unique_constraints::kshakir
Running Changeset: changesets/lengthen_wdl_value.xml::LENGTHEN_WDL_VALUE::sfrazer
Running Changeset: changesets/add_index_in_execution.xml::add-index-in-execution::tjeandet
Running Changeset: changesets/rename_iteration_to_index.xml::rename-iteration-to-index::tjeandet
Running Changeset: changesets/sge.xml::sge::scottfrazer
Running Changeset: changesets/sge.xml::db_schema_constraints::scottfrazer
Running Changeset: changesets/change_execution_unique_constraint.xml::change_execution_unique_constraint::tjeandet
Running Changeset: changesets/rc.xml::rc::mcovarr
Running Changeset: changesets/workflow_options.xml::workflow-options::sfrazer
Running Changeset: changesets/jes_id_update.xml::jes_id_update::chrisl
Running Changeset: changesets/optional_sge_ids.xml::optional_sge_ids::chrisl
Running Changeset: changesets/add_start_end_time_in_execution.xml::add-start-end-time-in-execution::jgentry
Running Changeset: changesets/rename_jes_id.xml::rename-jes-id-to-jes-run-id::sfrazer
Running Changeset: changesets/add_workflow_name.xml::workflow-name::mcovarr
Running Changeset: changesets/top_level_output.xml::top_level_output::chrisl
Running Changeset: changesets/workflow_execution_aux_not_null.xml::workflow_execution_aux_not_null::tjeandet
Running Changeset: changesets/call_result_caching.xml::call_result_caching::chrisl
Running Changeset: changesets/events_table.xml::execution_event_table::chrisl
Running Changeset: changesets/sync_not_null_constraints.xml::job_not_null_columns::kshakir
Running Changeset: changesets/sync_not_null_constraints.xml::events_end_dt_not_null::kshakir
Running Changeset: changesets/sge_job_execution_unique_key.xml::sge_job_execution_unique_key::kshakir
Running Changeset: changesets/add_attempt_in_execution.xml::add-attempt-in-execution::tjeandet
Running Changeset: changesets/execution_backend_info.xml::CREATE_EXECUTION_INFO::mcovarr
Running Changeset: changesets/execution_backend_info.xml::add_foreign_key_constraints::mcovarr
Running Changeset: changesets/execution_backend_info.xml::add_backend_type_column::mcovarr
Running Changeset: changesets/execution_backend_info.xml::insert_data_from_backend_tables::mcovarr
Running Changeset: changesets/execution_backend_info.xml::set_backend_type::mcovarr
Running Changeset: changesets/execution_backend_info.xml::drop_job_tables::mcovarr
Running Changeset: changesets/execution_backend_info.xml::execution_info_uniqueness_constraint::mcovarr
Running Changeset: changesets/execution_backend_info.xml::execution_backend_type_not_null::mcovarr
Running Changeset: changesets/runtime_attributes_table.xml::runtime-attributes-table::tjeandet
Running Changeset: changesets/failure_table.xml::failure_table::chrisl
Running Changeset: changesets/metadata_journal.xml::metadata_journal::mcovarr
Running Changeset: changesets/metadata_journal.xml::metadata_workflow_index::mcovarr
Running Changeset: changesets/metadata_journal.xml::metadata_job_index::mcovarr
Running Changeset: changesets/metadata_journal.xml::metadata_job_and_key_index::mcovarr
Running Changeset: changesets/metadata_typed_values.xml::metadata_typed_values::tjeandet
Running Changeset: changesets/workflow_metadata_summary.xml::metadata_journal_id_int_to_big_int::kshakir
Running Changeset: changesets/workflow_metadata_summary.xml::workflow_metadata_summary::mcovarr
Running Changeset: changesets/workflow_metadata_summary.xml::workflow_metadata_uuid_idx::mcovarr
Running Changeset: changesets/workflow_metadata_summary.xml::workflow_metadata_name_idx::mcovarr
Running Changeset: changesets/workflow_metadata_summary.xml::workflow_metadata_status_idx::mcovarr
Running Changeset: changesets/metadata_journal_subsecond_timestamp.xml::metadata_journal_subsecond_timestamp::mcovarr
Running Changeset: changesets/metadata_journal_subsecond_timestamp.xml::metadata_journal_timestamp_not_null::mcovarr
Running Changeset: changesets/workflow_store.xml::WORKFLOW_STORE::chrisl
Running Changeset: changesets/workflow_store.xml::workflow_store_uuid_index::kshakir
Running Changeset: changesets/workflow_store.xml::workflow_store_state_index::chrisl
Running Changeset: changesets/backend_KV_Store.xml::BACKEND_KV_STORE::rmunshi
Running Changeset: changesets/backend_KV_Store.xml::backend_KV_store_job_key_constraint::rmunshi
Running Changeset: changesets/job_store.xml::JOB_STORE::chrisl
Running Changeset: changesets/job_store.xml::job_store_uuid_index::chrisl
Running Changeset: changesets/job_store.xml::job_store_jobkey_index::chrisl
Running Changeset: changesets/callcaching.xml::call_caching_result_metainfo::chrisl
Running Changeset: changesets/callcaching.xml::call_caching_result_metainfo_uniqueness::chrisl
Running Changeset: changesets/callcaching.xml::call_caching_hashes::chrisl
Running Changeset: changesets/callcaching.xml::call_caching_result_hashes_uniqueness::chrisl
Running Changeset: changesets/callcaching.xml::call_caching_result_hashes_uniqueness_foreign_key::chrisl
Running Changeset: changesets/callcaching.xml::call_caching_result_simpletons::chrisl
Running Changeset: changesets/callcaching.xml::call_caching_result_simpletons_uniqueness::chrisl
Running Changeset: changesets/callcaching.xml::call_caching_result_simpletons_foreign_key::chrisl
Running Changeset: changesets/call_caching_allow_result_reuse_fix.xml::call_caching_fix_boolean::mcovarr
Running Changeset: changesets/call_caching_allow_result_reuse_fix.xml::call_caching_reuse_default::mcovarr
Running Changeset: changesets/job_store_simpletons.xml::job_store_result_simpletons::mcovarr
Running Changeset: changesets/job_store_simpletons.xml::job_store_result_simpletons_uniqueness::mcovarr
Running Changeset: changesets/job_store_simpletons.xml::job_store_result_simpletons_foreign_key::mcovarr
Running Changeset: changesets/job_store_simpletons.xml::job_store_remove_job_output::mcovarr
Running Changeset: changesets/restart_and_recover_migration.xml::WORKFLOW_STORE_MIGRATION::mcovarr
Running Changeset: changesets/restart_and_recover_migration.xml::JOB_STORE_MIGRATION::mcovarr
Running Changeset: changesets/restart_and_recover_migration.xml::JOB_STORE_RESULT_SIMPLETON_VALUE_NULLABLE::mcovarr
Running Changeset: changesets/restart_and_recover_migration.xml::JOB_STORE_RESULT_SIMPLETON_MIGRATION::mcovarr
Running Changeset: changesets/restart_and_recover_migration.xml::BACKEND_KV_STORE_MIGRATION::mcovarr
Running Changeset: changesets/restart_and_recover_migration.xml::WORKFLOW_OPTIONS_RENAME_MIGRATION::mcovarr
Running Changeset: changesets/summary_status_table.xml::summary_status_table::kshakir
Running Changeset: changesets/summary_status_table.xml::summary_status_summarized_table_name_index::kshakir
Running Changeset: changesets/standardize_column_names.xml::workflow_execution_uuid::rmunshi
Running Changeset: changesets/standardize_column_names.xml::call_job_identifiers::rmunshi
Running Changeset: changesets/embiggen_metadata_value.xml::entry_or_journal_existence_xor::mcovarr
Running Changeset: changesets/embiggen_metadata_value.xml::embiggen_metadata_entry::mcovarr
Running Changeset: changesets/embiggen_metadata_value.xml::embiggen_metadata_journal::mcovarr
Running Changeset: changesets/call_caching_job_detritus.xml::call_caching_job_detritus::rmunshi
Running Changeset: changesets/call_caching_job_detritus.xml::call_caching_job_detritus_key_uniqueness::rmunshi
Running Changeset: changesets/call_caching_job_detritus.xml::call_caching_job_detritus_foreign_key::rmunshi
Running Changeset: changesets/job_store_tinyints.xml::job_store_fix_job_successful::mcovarr
Running Changeset: changesets/job_store_tinyints.xml::job_store_fix_job_retryable_failure::mcovarr
Running Changeset: changesets/job_store_tinyints.xml::job_store_not_nullable_job_successful::mcovarr
Running Changeset: changesets/standardize_column_names_again.xml::standardize_column_names_again::kshakir
Running Changeset: changesets/rename_workflow_options_in_metadata.xml::rename_workflow_options_in_metadata::tjeandet
2023-07-11 14:51:11,185  INFO  - Running migration RenameWorkflowOptionsInMetadata with a read batch size of 100000 and a write batch size of 100000
2023-07-11 14:51:11,200  INFO  - [RenameWorkflowOptionsInMetadata] 100%
Running Changeset: changesets/encrypt_and_clear_workflow_options.xml::encrypt_workflow_store_entry_workflow_options::kshakir
Running Changeset: changesets/encrypt_and_clear_workflow_options.xml::clear_metadata_entry_workflow_options::kshakir
Running Changeset: changesets/sub_workflow_store.xml::SUB_WORKFLOW_STORE_ENTRY::tjeandet
Running Changeset: changesets/sub_workflow_store.xml::sub_workflow_store_uuid_index::tjeandet
Running Changeset: changesets/sub_workflow_store.xml::sub_workflow_store_jobkey_index::tjeandet
Running Changeset: changesets/sub_workflow_store.xml::sub_workflow_store_root_workflow_fk::tjeandet
Running Changeset: changesets/workflow_store_imports_file.xml::workflow-store-imports-file::cjllanwarne
Running Changeset: changesets/workflow_store_labels_file.xml::workflow-store-labels-file::cjllanwarne
Running Changeset: changesets/embiggen_detritus_value.xml::embiggen_call_caching_detritus_entry::rmunshi
Running Changeset: changesets/standardize_column_names_patches.xml::standardize_column_names_patches::kshakir
Running Changeset: changesets/standardize_column_names_patches.xml::hsqldb_longvarchar_to_longtext::kshakir
Running Changeset: changesets/nullable_lobs.xml::nullable_lobs::kshakir
Running Changeset: changesets/add_attempt_in_call_caching_entry.xml::add_attempt_in_call_caching_entry::tjeandet
Running Changeset: changesets/replace_empty_custom_labels.xml::custom_labels_not_null::rmunshi
Running Changeset: changesets/call_caching_aggregated_hashes.xml::call_caching_aggregation_entry::tjeandet
Running Changeset: changesets/call_caching_aggregated_hashes.xml::call_caching_aggregation_entry_keys_and_indexes::tjeandet
Running Changeset: changesets/custom_label_entry.xml::custom_LABEL_entry::rmunshi
Running Changeset: changesets/custom_label_entry.xml::WMSE_workflow_execution_uuid_foreign_key::rmunshi
Running Changeset: changesets/custom_label_entry.xml::custom_label_entry_index::rmunshi
Running Changeset: changesets/custom_label_entry.xml::modify label key/value data types::rmunshi
Running Changeset: changesets/docker_hash_store.xml::DOCKER_HASH_STORE_ENTRY::tjeandet
Running Changeset: changesets/docker_hash_store.xml::docker_hash_store_uuid_unique_constraint::tjeandet
Running Changeset: changesets/workflow_store_type_and_version.xml::workflow-store-type-and-version::mcovarr
Running Changeset: changesets/remove_pre_pbe_tables.xml::drop-pre-pbe-tables::mcovarr
Running Changeset: changesets/move_sql_metadata_changelog.xml::move_metadata_changelog::kshakir
Running Changeset: changesets/workflow_store_state_widening.xml::workflow-store-state-widening::tjeandet
Running Changeset: changesets/workflow_store_restarted_column.xml::workflow-store-restarted-column::tjeandet
Running Changeset: changesets/workflow_store_restarted_column.xml::update-restartable::tjeandet
Running Changeset: changesets/workflow_store_workflow_root_column.xml::workflow-store-workflow-root-column::tjeandet
Running Changeset: changesets/workflow_store_horizontal_db.xml::workflow-store-horizontal-db::mcovarr
Running Changeset: changesets/add_workflow_url_in_workflow_store_entry.xml::add_workflow_url_in_workflow_store_entry::sshah
Running Changeset: changesets/change_max_size_workflow_url.xml::change_max_size_for_workflow_url::sshah
Running Changeset: changesets/docker_hash_store_add_size_column.xml::docker_hash_store_entry_add_size_column::tjeandet
Running Changeset: changesets/enlarge_call_caching_hash_entry_id.xml::restore_auto_increment_call_caching_hash_entry_id::mcovarr
Running Changeset: changesets/add_hog_group_in_workflow_store.xml::add_hog_group_in_workflow_store::cjllanwarne
Running Changeset: changesets/resync_engine_schema.xml::resync-engine-schema::kshakir
Running Changeset: changesets/enlarge_job_store_ids.xml::drop_job_store_simpleton_entry_fk::mcovarr
Running Changeset: changesets/enlarge_job_store_ids.xml::enlarge_job_store_entry_id::mcovarr
Running Changeset: changesets/enlarge_job_store_ids.xml::enlarge_job_store_simpleton_entry_id::mcovarr
Running Changeset: changesets/enlarge_job_store_ids.xml::enlarge_job_store_simpleton_entry_fk::mcovarr
Running Changeset: changesets/enlarge_job_store_ids.xml::recreate_job_store_simpleton_entry_fk::mcovarr
2023-07-11 14:51:11,592  INFO  - Running with database db.url = jdbc:hsqldb:mem:4a032965-b3fe-4583-81dc-4a23024a30fb;shutdown=false;hsqldb.tx=mvcc
Running Changeset: metadata_changesets/move_sql_metadata_changelog.xml::move_metadata_changelog::kshakir
Running Changeset: changesets/change_max_size_label_entry.xml::change_max_size_for_key_and_value_in_label::sshah
Running Changeset: metadata_changesets/delete_duplicate_custom_labels.xml::delete_duplicate_custom_labels::kshakir
Running Changeset: metadata_changesets/add_submission_timestamp_metadata_summary.xml::add_submission_timestamp_in_metadata_entry::sshah
Running Changeset: metadata_changesets/custom_label_entry_key_value_index.xml::custom_label_entry_key_value_index::mcovarr
Running Changeset: metadata_changesets/add_parent_and_root_workflow_execution_uuid.xml::add_parent_and_root_workflow_execution_uuid::kshakir
Running Changeset: metadata_changesets/add_parent_and_root_workflow_typo_fix.xml::add_parent_and_root_workflow_typo_fix::kshakir
Running Changeset: metadata_changesets/metadata_index_removals.xml::metadata_index_removals::mcovarr
Running Changeset: metadata_changesets/add_metadata_archive_status.xml::add_metadata_archive_status::cjllanwarne
Running Changeset: metadata_changesets/add_metadata_archive_status.xml::metadata_archive_status_index::cjllanwarne
Running Changeset: metadata_changesets/summarization_queue_table.xml::summary_queue_table::gsterin
Running Changeset: metadata_changesets/summarization_queue_table.xml::summary_queue_initialization::gsterin
Running Changeset: metadata_changesets/summarization_queue_table_add_primary_key.xml::summary_queue_add_primary_key::gsterin
Running Changeset: metadata_changesets/remove_non_summarizable_metadata_from_queue.xml::delete_non_summarizable_metadata_from_queue::mcovarr
Running Changeset: metadata_changesets/update_metadata_archive_index.xml::update_old_metadata_archive_status_index::cjllanwarne
Running Changeset: metadata_changesets/reset_archive_statuses_to_null.xml::reset_archive_statuses_to_null::cjllanwarne
2023-07-11 14:51:12,707  INFO  - Slf4jLogger started
2023-07-11 14:51:12,985 cromwell-system-akka.dispatchers.engine-dispatcher-7 INFO  - Workflow heartbeat configuration:
{
  "cromwellId" : "cromid-46a9c95",
  "heartbeatInterval" : "2 minutes",
  "ttl" : "10 minutes",
  "failureShutdownDuration" : "5 minutes",
  "writeBatchSize" : 10000,
  "writeThreshold" : 10000
}
2023-07-11 14:51:13,143 cromwell-system-akka.dispatchers.service-dispatcher-14 INFO  - Metadata summary refreshing every 1 second.
2023-07-11 14:51:13,179 cromwell-system-akka.dispatchers.service-dispatcher-14 INFO  - No metadata archiver defined in config
2023-07-11 14:51:13,179 cromwell-system-akka.dispatchers.service-dispatcher-14 INFO  - No metadata deleter defined in config
2023-07-11 14:51:13,181 cromwell-system-akka.dispatchers.service-dispatcher-12 INFO  - WriteMetadataActor configured to flush with batch size 200 and process rat2023-07-11 14:51:13,202 cromwell-system-akka.dispatchers.service-dispatcher-14 INFO  - WriteMetadataActor configured to flush with batch size 200 and process rate 5 seconds.
2023-07-11 14:51:13,202 cromwell-system-akka.dispatchers.engine-dispatcher-28 INFO  - CallCacheWriteActor configured to flush with batch size 100 and process rate 3 seconds.
2023-07-11 14:51:13,300 cromwell-system-akka.dispatchers.engine-dispatcher-26 INFO  - JobRestartCheckTokenDispenser - Distribution rate: 50 per 1 seconds.
2023-07-11 14:51:13,389 cromwell-system-akka.dispatchers.engine-dispatcher-26 INFO  - JobExecutionTokenDispenser - Distribution rate: 1 per 2 seconds.
2023-07-11 14:51:13,467 cromwell-system-akka.dispatchers.engine-dispatcher-8 INFO  - SingleWorkflowRunnerActor: Version 82
2023-07-11 14:51:13,486 cromwell-system-akka.dispatchers.engine-dispatcher-8 INFO  - SingleWorkflowRunnerActor: Submitting workflow
2023-07-11 14:51:13,609 cromwell-system-akka.dispatchers.api-dispatcher-33 INFO  - Unspecified type (Unspecified version) workflow 1c0d6449-b166-48b2-82ec-c6f26166bb85 submitted
2023-07-11 14:51:13,650 cromwell-system-akka.dispatchers.engine-dispatcher-27 INFO  - SingleWorkflowRunnerActor: Workflow submitted UUID(1c0d6449-b166-48b2-82ec-c6f26166bb85)
2023-07-11 14:51:13,667 cromwell-system-akka.dispatchers.engine-dispatcher-9 INFO  - 1 new workflows fetched by cromid-ea53029: 1c0d6449-b166-48b2-82ec-c6f26166bb85
2023-07-11 14:51:13,677 cromwell-system-akka.dispatchers.engine-dispatcher-28 INFO  - WorkflowManagerActor: Starting workflow UUID(1c0d6449-b166-48b2-82ec-c6f26166bb85)
2023-07-11 14:51:13,683 cromwell-system-akka.dispatchers.engine-dispatcher-28 INFO  - WorkflowManagerActor: Successfully started WorkflowActor-1c0d6449-b166-48b2-82ec-c6f26166bb85
2023-07-11 14:51:13,684 cromwell-system-akka.dispatchers.engine-dispatcher-28 INFO  - Retrieved 1 workflows from the WorkflowStoreActor
2023-07-11 14:51:13,738 cromwell-system-akka.dispatchers.engine-dispatcher-27 INFO  - WorkflowStoreHeartbeatWriteActor configured to flush with batch size 10000 and process rate 2 minutes.
2023-07-11 14:51:13,920 cromwell-system-akka.dispatchers.engine-dispatcher-27 INFO  - MaterializeWorkflowDescriptorActor [UUID(1c0d6449)]: Parsing workflow as WDL 1.0
2023-07-11 14:51:16,850 cromwell-system-akka.dispatchers.engine-dispatcher-7 INFO  - MaterializeWorkflowDescriptorActor [UUID(f1f4451e)]: Call-to-Backend assignments: atac.qc_report -> slurm, atac.call_peak_pr2 -> slurm, atac.call_peak -> slurm, atac.reproducibility_idr -> slurm, atac.pool_blacklist -> slurm, atac.filter -> slurm, atac.call_peak_ppr1 -> slurm, atac.pool_ta -> slurm, atac.macs2_signal_track_pooled -> slurm, atac.frac_mito -> slurm, atac.annot_enrich -> slurm, atac.idr_ppr -> slurm, atac.overlap -> slurm, atac.macs2_signal_track -> slurm, atac.tss_enrich -> slurm, atac.bam2ta -> slurm, atac.xcor -> slurm, atac.idr_pr -> slurm, atac.call_peak_pooled -> slurm, atac.fraglen_stat_pe -> slurm, atac.idr -> slurm, atac.align -> slurm, atac.reproducibility_overlap -> slurm, atac.error_input_data -> slurm, atac.gc_bias -> slurm, atac.jsd -> slurm, atac.compare_signal_to_roadmap -> slurm, atac.preseq -> slurm, atac.count_signal_track -> slurm, atac.call_peak_pr1 -> slurm, atac.filter_no_dedup -> slurm, atac.overlap_ppr -> slurm, atac.count_signal_track_pooled -> slurm, atac.read_genome_tsv -> slurm, atac.spr -> slurm, atac.align_mito -> slurm, atac.pool_ta_pr2 -> slurm, atac.bam2ta_no_dedup -> slurm, atac.call_peak_ppr2 -> slurm, atac.overlap_pr -> slurm, atac.pool_ta_pr1 -> slurm
2023-07-11 14:51:17,137 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,139 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [preemptible, disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,139 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [preemptible, disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,139 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,139 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,139 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,139 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [preemptible, disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,139 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,139 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [preemptible, disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,140 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,140 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,140 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,140 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,140 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [preemptible, disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,140 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,140 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,140 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,140 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,140 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [preemptible, disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,140 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,141 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,141 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [preemptible, disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,141 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,141 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,141 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,142 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,142 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,142 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,142 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,142 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [preemptible, disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,142 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,143 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,143 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,143 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,143 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,143 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [preemptible, disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,143 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,144 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,144 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [preemptible, disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,144 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
2023-07-11 14:51:17,144 cromwell-system-akka.dispatchers.backend-dispatcher-38 WARN  - slurm [UUID(f1f4451e)]: Key/s [disks, docker] is/are not supported by backend. Unsupported attributes will not be part of job executions.
22023-07-11 14:51:18,312 cromwell-system-akka.dispatchers.engine-dispatcher-29 INFO  - Not triggering log of restart checking token queue status. Effective log interval = Non202023-07-11 14:51:18,400 cromwell-system-akka.dispatchers.engine-dispatcher-29 INFO  - Not triggering log of execution token queue status. Effective log interval = Non2023-07-11 14:51:21,438 cromwell-system-akka.dispatchers.engine-dispatcher-19 INFO  - WorkflowExecutionActor-f1f4451e-3d36-4ab4-ae51-c777d08847e3 [UUID(f1f4451e)]: Starting atac.read_genome_tsv
22023-07-11 14:51:23,415 cromwell-system-akka.dispatchers.engine-dispatcher-27 INFO  - Assigned new job execution tokens to the following groups: 1c0d6449: 122023-07-11 14:51:23,516 cromwell-system-akka.dispatchers.engine-dispatcher-22 INFO  - BT-322 1c0d6449:atac.read_genome_tsv:-1:1 is eligible for call caching with read = true and write = true22023-07-11 14:51:23,583 cromwell-system-akka.dispatchers.engine-dispatcher-26 INFO  - BT-322 1c0d6449:atac.read_genome_tsv:-1:1 cache hit copying nomatch: could not find a suitable cache hit.
2023-07-11 14:51:23,585 cromwell-system-akka.dispatchers.engine-dispatcher-26 INFO  - 1c0d6449-b166-48b2-82ec-c6f26166bb85-EngineJobExecutionActor-atac.read_genome_tsv:NA:1 [UUID(1c0d6449)]: Could not copy a suitable cache hit for 1c0d6449:atac.read_genome_tsv:-1:1. No copy attempts were made.22023-07-11 14:51:23,629 cromwell-system-akka.dispatchers.backend-dispatcher-45 WARN  - DispatchedConfigAsyncJobExecutionActor [UUID(1c0d6449)atac.read_genome_tsv:NA:1]: Unrecognized runtime attribute keys: disks, docker22023-07-11 14:51:23,737 cromwell-system-akka.dispatchers.backend-dispatcher-45 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(1c0d6449)atac.read_genome_tsv:NA:1]: `echo "$(basename /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-read_genome_tsv/inputs/-501775583/mm10.tsv)" > genome_name
# create empty files for all entries
touch ref_fa bowtie2_idx_tar chrsz gensz blacklist blacklist2
touch ref_mito_fa
touch bowtie2_mito_idx_tar
touch tss tss_enrich # for backward compatibility
touch dnase prom enh reg2map reg2map_bed roadmap_meta
touch mito_chr_name
touch regex_bfilt_peak_chr_name

python <<CODE
import os
with open('/scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-read_genome_tsv/inputs/-501775583/mm10.tsv','r') as fp:
    for line in fp:
        arr = line.strip('\n').split('\t')
        if arr:
            key, val = arr
            with open(key,'w') as fp2:
                fp2.write(val)
CODE`
2023-07-11 14:51:24,174 cromwell-system-akka.dispatchers.backend-dispatcher-45 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(1c0d6449)atac.read_genome_tsv:NA:1]: executing: cat << EOF > /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-read_genome_tsv/execution/script.caper
#!/bin/bash

if [ 'true' == 'true' ] && [ 'conda' == 'singularity' ] || \
   [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' ]
then
    mkdir -p $HOME/.singularity/lock/
    flock --exclusive --timeout 600 \
        $HOME/.singularity/lock/`echo -n 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' | md5sum | cut -d' ' -f1` \
        singularity exec --containall https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif echo 'Successfully pulled https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif'

    singularity exec --cleanenv --home=`dirname /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-read_genome_tsv` \
        --bind=, \
         \
        https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-read_genome_tsv/execution/script

elif [ 'true' == 'true' ] && [ 'conda' == 'conda' ] || \
     [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'encd-atac' ]
then
    conda run --name=encd-atac /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-read_genome_tsv/execution/script

else
    /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-read_genome_tsv/execution/script
fi

EOF

for ITER in 1 2 3
do
    sbatch --export=ALL -J cromwell_1c0d6449_read_genome_tsv -D /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-read_genome_tsv -o /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-read_genome_tsv/execution/stdout -e /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-read_genome_tsv/execution/stderr \
        -p akundaje  \
        -n 1 --ntasks-per-node=1 --cpus-per-task=1 --mem=2048M --time=240  \
         \
        /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-read_genome_tsv/execution/script.caper && exit 0
    sleep 30
done
exit 1
2023-07-11 14:51:28,220 cromwell-system-akka.dispatchers.backend-dispatcher-47 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(1c0d6449)atac.read_genome_tsv:NA:1]: job id: 23827007
2023-07-11 14:51:28,224 cromwell-system-akka.dispatchers.backend-dispatcher-48 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(1c0d6449)atac.read_genome_tsv:NA:1]: Cromwell will watch for an rc file but will *not* double-check whether this job is actually alive (unless Cromwell restarts)
2023-07-11 14:51:28,226 cromwell-system-akka.dispatchers.backend-dispatcher-46 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(1c0d6449)atac.read_genome_tsv:NA:1]: Status change from - to Running
2023-07-11 14:51:40,92023-07-11 14:51:40,940 cromwell-system-akka.dispatchers.engine-dispatcher-21 INFO  - WorkflowExecutionActor-f1f4451e-3d36-4ab4-ae51-c777d08847e3 [UUID(f1f4451e2023-07-11 14:51:41,401 cromwell-system-akka.dispatchers.engine-dispatcher-8 INFO  - Assigned new job execution tokens to the following groups: 1c0d6449: 1
2023-07-11 14:51:41,426 cromwell-system-akka.dispatchers.engine-dispatcher-9 INFO  - BT-322 1c0d6449:atac.spr:0:1 is eligible for call caching with read = true and write = true
2023-07-11 14:51:41,433 cromwell-system-akka.dispatchers.engine-dispatcher-8 INFO  - BT-322 1c0d6449:atac.spr:0:1 cache hit copying nomatch: could not find a suitable cache hit.
2023-07-11 14:51:41,434 cromwell-system-akka.dispatchers.engine-dispatcher-8 INFO  - 1c0d6449-b166-48b2-82ec-c6f26166bb85-EngineJobExecutionActor-atac.spr:0:1 [UUID(1c0d6449)]: Could not copy a suitable cache hit for 1c0d6449:atac.spr:0:1. No copy attempts were made.
2023-07-11 14:51:41,437 cromwell-system-akka.dispatchers.backend-dispatcher-45 WARN  - DispatchedConfigAsyncJobExecutionActor [UUID(1c0d6449)atac.spr:0:1]: Unrecognized runtime attribute keys: disks, docker
2023-07-11 14:51:41,453 cromwell-system-akka.dispatchers.backend-dispatcher-45 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(1c0d6449)atac.spr:0:1]: `set -e
python3 $(which encode_task_spr.py) \
    /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-spr/shard-0/inputs/-756605190/alpha_early_disease.tagalign.gz \
    --pseudoreplication-random-seed 0 \
    --paired-end`
2023-07-11 14:51:41,481 cromwell-system-akka.dispatchers.backend-dispatcher-45 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(1c0d6449)atac.spr:0:1]: executing: cat << EOF > /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-spr/shard-0/execution/script.caper
#!/bin/bash

if [ 'true' == 'true' ] && [ 'conda' == 'singularity' ] || \
   [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' ]
then
    mkdir -p $HOME/.singularity/lock/
    flock --exclusive --timeout 600 \
        $HOME/.singularity/lock/`echo -n 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' | md5sum | cut -d' ' -f1` \
        singularity exec --containall https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif echo 'Successfully pulled https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif'

    singularity exec --cleanenv --home=`dirname /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-spr/shard-0` \
        --bind=, \
         \
        https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-spr/shard-0/execution/script

elif [ 'true' == 'true' ] && [ 'conda' == 'conda' ] || \
     [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'encd-atac' ]
then
    conda run --name=encd-atac /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-spr/shard-0/execution/script

else
    /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-spr/shard-0/execution/script
fi

EOF

for ITER in 1 2 3
do
    sbatch --export=ALL -J cromwell_1c0d6449_spr -D /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-spr/shard-0 -o /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-spr/shard-0/execution/stdout -e /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-spr/shard-0/execution/stderr \
        -p akundaje  \
        -n 1 --ntasks-per-node=1 --cpus-per-task=1 --mem=7475M --time=240  \
         \
        /scratch/users/ziwei75/ALS_colab/output/alpha_early_disease/atac/1c0d6449-b166-48b2-82ec-c6f26166bb85/call-spr/shard-0/execution/script.caper && exit 0
    sleep 30
done
exit 1
2023-07-11 14:51:43,205 cromwell-system-akka.dispatchers.backend-dispatcher-48 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(1c0d6449)atac.spr:0:1]: job id: 23827011
2023-07-11 14:51:43,206 cromwell-system-akka.dispatchers.backend-dispatcher-47 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(1c0d6449)atac.spr:0:1]: Cromwell will watch for an rc file but will *not* double-check whether this job is actually alive (unless Cromwell restarts)
2023-07-11 14:51:43,206 cromwell-system-akka.dispatchers.backend-dispatcher-48 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(1c0d6449)atac.spr:0:1]: Status change from - to Running
2023-07-11 14:53:52,564 cromwell-system-akka.disp2023-07-11 14:54:20,925 cromwell-system-akka.dispatchers.backend-dispatcher-71 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.read_genome_tsv:NA:1]: Status change from Running to Done
2023-07-11 14:54:26,184 cromwell-system-akka.dispatchers.engine-dispatcher-28 INFO  - WorkflowExecutionActor-f1f4451e-3d36-4ab4-ae51-c777d08847e3 [UUID(f1f4451e)]: Starting atac.macs2_signal_track
2023-07-11 14:54:27,352 cromwell-system-akka.dispatchers.engine-dispatcher-27 INFO  - Assigned new job execution tokens to the following groups: f1f4451e: 1
2023-07-11 14:54:27,366 cromwell-system-akka.dispatchers.engine-dispatcher-28 INFO  - BT-322 f1f4451e:atac.macs2_signal_track:0:1 is eligible for call caching with read = true and write = true
2023-07-11 14:54:27,373 cromwell-system-akka.dispatchers.engine-dispatcher-30 INFO  - BT-322 f1f4451e:atac.macs2_signal_track:0:1 cache hit copying nomatch: could not find a suitable cache hit.
2023-07-11 14:54:27,373 cromwell-system-akka.dispatchers.engine-dispatcher-30 INFO  - f1f4451e-3d36-4ab4-ae51-c777d08847e3-EngineJobExecutionActor-atac.macs2_signal_track:0:1 [UUID(f1f4451e)]: Could not copy a suitable cache hit for f1f4451e:atac.macs2_signal_track:0:1. No copy attempts were made.
2023-07-11 14:54:27,375 cromwell-system-akka.dispatchers.backend-dispatcher-71 WARN  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.macs2_signal_track:0:1]: Unrecognized runtime attribute keys: preemptible, disks, docker
2023-07-11 14:54:27,387 cromwell-system-akka.dispatchers.backend-dispatcher-71 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.macs2_signal_track:0:1]: `set -e
python3 $(which encode_task_macs2_signal_track_atac.py) \
    /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-macs2_signal_track/shard-0/inputs/-756605190/alpha_midLate_disease.tagalign.gz \
    --gensz mm \
    --chrsz /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-macs2_signal_track/shard-0/inputs/-501775583/mm10_no_alt.chrom.sizes.tsv \
    --pval-thresh 0.01 \
    --smooth-win 150 \
    --mem-gb 10.141188330948353`
2023-07-11 14:54:27,401 cromwell-system-akka.dispatchers.backend-dispatcher-71 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.macs2_signal_track:0:1]: executing: cat << EOF > /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-macs2_signal_track/shard-0/execution/script.caper
#!/bin/bash

if [ 'true' == 'true' ] && [ 'conda' == 'singularity' ] || \
   [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' ]
then
    mkdir -p $HOME/.singularity/lock/
    flock --exclusive --timeout 600 \
        $HOME/.singularity/lock/`echo -n 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' | md5sum | cut -d' ' -f1` \
        singularity exec --containall https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif echo 'Successfully pulled https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif'

    singularity exec --cleanenv --home=`dirname /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-macs2_signal_track/shard-0` \
        --bind=, \
         \
        https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-macs2_signal_track/shard-0/execution/script

elif [ 'true' == 'true' ] && [ 'conda' == 'conda' ] || \
     [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'encd-atac-macs2' ]
then
    conda run --name=encd-atac-macs2 /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-macs2_signal_track/shard-0/execution/script

else
    /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-macs2_signal_track/shard-0/execution/script
fi

EOF

for ITER in 1 2 3
do
    sbatch --export=ALL -J cromwell_f1f4451e_macs2_signal_track -D /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-macs2_signal_track/shard-0 -o /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-macs2_signal_track/shard-0/execution/stdout -e /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-macs2_signal_track/shard-0/execution/stderr \
        -p akundaje  \
        -n 1 --ntasks-per-node=1 --cpus-per-task=1 --mem=10384M --time=1440  \
         \
        /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-macs2_signal_track/shard-0/execution/script.caper && exit 0
    sleep 30
done
exit 1
2023-07-11 14:54:28,154 cromwell-system-akka.dispatchers.backend-dispatcher-49 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.macs2_signal_track:0:1]: job id: 23827138
2023-07-11 14:54:28,156 cromwell-system-akka.dispatchers.backend-dispatcher-49 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.macs2_signal_track:0:1]: Cromwell will watch for an rc file but will *not* double-check whether this job is actually alive (unless Cromwell restarts)
2023-07-11 14:54:28,156 cromwell-system-akka.dispatchers.backend-dispatcher-49 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.macs2_signal_track:0:1]: Status change from - to Running
2023-07-11 14:54:30,277 cromwell-system-akka.dispatchers.engine-dispatcher-8 INFO  - WorkflowExecutionActor-f1f4451e-3d36-4ab4-ae51-c777d08847e3 [UUID(f1f4451e)]: Starting atac.call_peak
2023-07-11 14:54:31,351 cromwell-system-akka.dispatchers.engine-dispatcher-29 INFO  - Assigned new job execution tokens to the following groups: f1f4451e: 1
2023-07-11 14:54:31,363 cromwell-system-akka.dispatchers.engine-dispatcher-7 INFO  - BT-322 f1f4451e:atac.call_peak:0:1 is eligible for call caching with read = true and write = true
2023-07-11 14:54:31,370 cromwell-system-akka.dispatchers.engine-dispatcher-26 INFO  - BT-322 f1f4451e:atac.call_peak:0:1 cache hit copying nomatch: could not find a suitable cache hit.
2023-07-11 14:54:31,370 cromwell-system-akka.dispatchers.engine-dispatcher-26 INFO  - f1f4451e-3d36-4ab4-ae51-c777d08847e3-EngineJobExecutionActor-atac.call_peak:0:1 [UUID(f1f4451e)]: Could not copy a suitable cache hit for f1f4451e:atac.call_peak:0:1. No copy attempts were made.
2023-07-11 14:54:31,373 cromwell-system-akka.dispatchers.backend-dispatcher-49 WARN  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak:0:1]: Unrecognized runtime attribute keys: preemptible, disks, docker
2023-07-11 14:54:31,390 cromwell-system-akka.dispatchers.backend-dispatcher-49 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak:0:1]: `set -e

if [ 'macs2' == 'macs2' ]; then
    python3 $(which encode_task_macs2_atac.py) \
        /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak/shard-0/inputs/-756605190/alpha_midLate_disease.tagalign.gz \
        --gensz mm \
        --chrsz /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak/shard-0/inputs/-501775583/mm10_no_alt.chrom.sizes.tsv \
        --cap-num-peak 300000 \
        --pval-thresh 0.01 \
        --smooth-win 150 \
        --mem-gb 6.047062776982784
fi

python3 $(which encode_task_post_call_peak_atac.py) \
    $(ls *Peak.gz) \
    --ta /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak/shard-0/inputs/-756605190/alpha_midLate_disease.tagalign.gz \
    --regex-bfilt-peak-chr-name 'chr[\dXY]+' \
    --chrsz /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak/shard-0/inputs/-501775583/mm10_no_alt.chrom.sizes.tsv \
    --peak-type narrowPeak \
    --blacklist /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak/shard-0/inputs/-501775583/ENCFF547MET.bed.gz`
2023-07-11 14:54:31,542 cromwell-system-akka.dispatchers.backend-dispatcher-49 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak:0:1]: executing: cat << EOF > /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak/shard-0/execution/script.caper
#!/bin/bash

if [ 'true' == 'true' ] && [ 'conda' == 'singularity' ] || \
   [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' ]
then
    mkdir -p $HOME/.singularity/lock/
    flock --exclusive --timeout 600 \
        $HOME/.singularity/lock/`echo -n 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' | md5sum | cut -d' ' -f1` \
        singularity exec --containall https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif echo 'Successfully pulled https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif'

    singularity exec --cleanenv --home=`dirname /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak/shard-0` \
        --bind=, \
         \
        https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak/shard-0/execution/script

elif [ 'true' == 'true' ] && [ 'conda' == 'conda' ] || \
     [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'encd-atac-macs2' ]
then
    conda run --name=encd-atac-macs2 /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak/shard-0/execution/script

else
    /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak/shard-0/execution/script
fi

EOF

for ITER in 1 2 3
do
    sbatch --export=ALL -J cromwell_f1f4451e_call_peak -D /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak/shard-0 -o /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak/shard-0/execution/stdout -e /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak/shard-0/execution/stderr \
        -p akundaje  \
        -n 1 --ntasks-per-node=1 --cpus-per-task=1 --mem=6192M --time=1440  \
         \
        /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak/shard-0/execution/script.caper && exit 0
    sleep 30
done
exit 1
2023-07-11 14:54:32,314 cromwell-system-akka.dispatchers.engine-dispatcher-26 INFO  - WorkflowExecutionActor-f1f4451e-3d36-4ab4-ae51-c777d08847e3 [UUID(f1f4451e)]: Starting atac.annot_enrich
2023-07-11 14:54:33,155 cromwell-system-akka.dispatchers.backend-dispatcher-49 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak:0:1]: job id: 23827141
2023-07-11 14:54:33,155 cromwell-system-akka.dispatchers.backend-dispatcher-49 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak:0:1]: Cromwell will watch for an rc file but will *not* double-check whether this job is actually alive (unless Cromwell restarts)
2023-07-11 14:54:33,156 cromwell-system-akka.dispatchers.backend-dispatcher-49 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak:0:1]: Status change from - to Running
2023-07-11 14:54:33,352 cromwell-system-akka.dispatchers.engine-dispatcher-19 INFO  - Assigned new job execution tokens to the following groups: f1f4451e: 1
2023-07-11 14:54:33,360 cromwell-system-akka.dispatchers.engine-dispatcher-7 INFO  - BT-322 f1f4451e:atac.annot_enrich:0:1 is eligible for call caching with read = true and write = true
2023-07-11 14:54:33,364 cromwell-system-akka.dispatchers.engine-dispatcher-7 INFO  - BT-322 f1f4451e:atac.annot_enrich:0:1 cache hit copying nomatch: could not find a suitable cache hit.
2023-07-11 14:54:33,365 cromwell-system-akka.dispatchers.engine-dispatcher-7 INFO  - f1f4451e-3d36-4ab4-ae51-c777d08847e3-EngineJobExecutionActor-atac.annot_enrich:0:1 [UUID(f1f4451e)]: Could not copy a suitable cache hit for f1f4451e:atac.annot_enrich:0:1. No copy attempts were made.
2023-07-11 14:54:33,367 cromwell-system-akka.dispatchers.backend-dispatcher-81 WARN  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.annot_enrich:0:1]: Unrecognized runtime attribute keys: disks, docker
2023-07-11 14:54:33,385 cromwell-system-akka.dispatchers.backend-dispatcher-81 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.annot_enrich:0:1]: `set -e
python3 $(which encode_task_annot_enrich.py) \
    --ta /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-annot_enrich/shard-0/inputs/-756605190/alpha_midLate_disease.tagalign.gz \
    --blacklist /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-annot_enrich/shard-0/inputs/-501775583/ENCFF547MET.bed.gz \
    --dnase /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-annot_enrich/shard-0/inputs/-1399338830/ENCFF015KVI.bed.gz \
    --prom /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-annot_enrich/shard-0/inputs/-1399338830/ENCFF206BQS.bed.gz \
    --enh /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-annot_enrich/shard-0/inputs/-1399338830/ENCFF580RGZ.bed.gz`
2023-07-11 14:54:33,398 cromwell-system-akka.dispatchers.backend-dispatcher-81 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.annot_enrich:0:1]: executing: cat << EOF > /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-annot_enrich/shard-0/execution/script.caper
#!/bin/bash

if [ 'true' == 'true' ] && [ 'conda' == 'singularity' ] || \
   [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' ]
then
    mkdir -p $HOME/.singularity/lock/
    flock --exclusive --timeout 600 \
        $HOME/.singularity/lock/`echo -n 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' | md5sum | cut -d' ' -f1` \
        singularity exec --containall https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif echo 'Successfully pulled https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif'

    singularity exec --cleanenv --home=`dirname /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-annot_enrich/shard-0` \
        --bind=, \
         \
        https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-annot_enrich/shard-0/execution/script

elif [ 'true' == 'true' ] && [ 'conda' == 'conda' ] || \
     [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'encd-atac' ]
then
    conda run --name=encd-atac /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-annot_enrich/shard-0/execution/script

else
    /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-annot_enrich/shard-0/execution/script
fi

EOF

for ITER in 1 2 3
do
    sbatch --export=ALL -J cromwell_f1f4451e_annot_enrich -D /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-annot_enrich/shard-0 -o /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-annot_enrich/shard-0/execution/stdout -e /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-annot_enrich/shard-0/execution/stderr \
        -p akundaje  \
        -n 1 --ntasks-per-node=1 --cpus-per-task=1 --mem=8192M --time=240  \
         \
        /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-annot_enrich/shard-0/execution/script.caper && exit 0
    sleep 30
done
exit 1
2023-07-11 14:54:38,153 cromwell-system-akka.dispatchers.backend-dispatcher-80 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.annot_enrich:0:1]: job id: 23827149
2023-07-11 14:54:38,155 cromwell-system-akka.dispatchers.backend-dispatcher-71 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.annot_enrich:0:1]: Cromwell will watch for an rc file but will *not* double-check whether this job is actually alive (unless Cromwell restarts)
2023-07-11 14:54:38,155 cromwell-system-akka.dispatchers.back2023-07-11 14:55:56,951 cromwell-system-akka.dispatchers.backend-dispatcher-70 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(1c0d2023-07-11 15:00:48,582 cromwell-system-akka.dispatchers.backend-dispatcher-124 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.spr:0:1]: Status change from Running to Done
2023-07-11 15:00:54,736 cromwell-system-akka.dispatchers.engine-dispatcher-27 INFO  - WorkflowExecutionActor-f1f4451e-3d36-4ab4-ae51-c777d08847e3 [UUID(f1f4451e)]: Starting atac.call_peak_pr2, atac.call_peak_pr1
2023-07-11 15:00:55,351 cromwell-system-akka.dispatchers.engine-dispatcher-27 INFO  - Assigned new job execution tokens to the following groups: f1f4451e: 1
2023-07-11 15:00:55,370 cromwell-system-akka.dispatchers.engine-dispatcher-27 INFO  - BT-322 f1f4451e:atac.call_peak_pr2:0:1 is eligible for call caching with read = true and write = true
2023-07-11 15:00:55,380 cromwell-system-akka.dispatchers.engine-dispatcher-19 INFO  - BT-322 f1f4451e:atac.call_peak_pr2:0:1 cache hit copying nomatch: could not find a suitable cache hit.
2023-07-11 15:00:55,382 cromwell-system-akka.dispatchers.engine-dispatcher-19 INFO  - f1f4451e-3d36-4ab4-ae51-c777d08847e3-EngineJobExecutionActor-atac.call_peak_pr2:0:1 [UUID(f1f4451e)]: Could not copy a suitable cache hit for f1f4451e:atac.call_peak_pr2:0:1. No copy attempts were made.
2023-07-11 15:00:55,384 cromwell-system-akka.dispatchers.backend-dispatcher-135 WARN  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak_pr2:0:1]: Unrecognized runtime attribute keys: preemptible, disks, docker
2023-07-11 15:00:55,403 cromwell-system-akka.dispatchers.backend-dispatcher-135 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak_pr2:0:1]: `set -e

if [ 'macs2' == 'macs2' ]; then
    python3 $(which encode_task_macs2_atac.py) \
        /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr2/shard-0/inputs/443974998/alpha_midLate_disease.tagalign.gz.pr2.tagAlign.gz \
        --gensz mm \
        --chrsz /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr2/shard-0/inputs/-501775583/mm10_no_alt.chrom.sizes.tsv \
        --cap-num-peak 300000 \
        --pval-thresh 0.01 \
        --smooth-win 150 \
        --mem-gb 5.457643322646618
fi

python3 $(which encode_task_post_call_peak_atac.py) \
    $(ls *Peak.gz) \
    --ta /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr2/shard-0/inputs/443974998/alpha_midLate_disease.tagalign.gz.pr2.tagAlign.gz \
    --regex-bfilt-peak-chr-name 'chr[\dXY]+' \
    --chrsz /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr2/shard-0/inputs/-501775583/mm10_no_alt.chrom.sizes.tsv \
    --peak-type narrowPeak \
    --blacklist /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr2/shard-0/inputs/-501775583/ENCFF547MET.bed.gz`
2023-07-11 15:00:55,424 cromwell-system-akka.dispatchers.backend-dispatcher-135 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak_pr2:0:1]: executing: cat << EOF > /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr2/shard-0/execution/script.caper
#!/bin/bash

if [ 'true' == 'true' ] && [ 'conda' == 'singularity' ] || \
   [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' ]
then
    mkdir -p $HOME/.singularity/lock/
    flock --exclusive --timeout 600 \
        $HOME/.singularity/lock/`echo -n 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' | md5sum | cut -d' ' -f1` \
        singularity exec --containall https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif echo 'Successfully pulled https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif'

    singularity exec --cleanenv --home=`dirname /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr2/shard-0` \
        --bind=, \
         \
        https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr2/shard-0/execution/script

elif [ 'true' == 'true' ] && [ 'conda' == 'conda' ] || \
     [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'encd-atac-macs2' ]
then
    conda run --name=encd-atac-macs2 /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr2/shard-0/execution/script

else
    /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr2/shard-0/execution/script
fi

EOF

for ITER in 1 2 3
do
    sbatch --export=ALL -J cromwell_f1f4451e_call_peak_pr2 -D /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr2/shard-0 -o /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr2/shard-0/execution/stdout -e /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr2/shard-0/execution/stderr \
        -p akundaje  \
        -n 1 --ntasks-per-node=1 --cpus-per-task=1 --mem=5588M --time=1440  \
         \
        /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr2/shard-0/execution/script.caper && exit 0
    sleep 30
done
exit 1
2023-07-11 15:00:57,351 cromwell-system-akka.dispatchers.engine-dispatcher-21 INFO  - Assigned new job execution tokens to the following groups: f1f4451e: 1
2023-07-11 15:00:57,362 cromwell-system-akka.dispatchers.engine-dispatcher-21 INFO  - BT-322 f1f4451e:atac.call_peak_pr1:0:1 is eligible for call caching with read = true and write = true
2023-07-11 15:00:57,369 cromwell-system-akka.dispatchers.engine-dispatcher-8 INFO  - BT-322 f1f4451e:atac.call_peak_pr1:0:1 cache hit copying nomatch: could not find a suitable cache hit.
2023-07-11 15:00:57,369 cromwell-system-akka.dispatchers.engine-dispatcher-8 INFO  - f1f4451e-3d36-4ab4-ae51-c777d08847e3-EngineJobExecutionActor-atac.call_peak_pr1:0:1 [UUID(f1f4451e)]: Could not copy a suitable cache hit for f1f4451e:atac.call_peak_pr1:0:1. No copy attempts were made.
2023-07-11 15:00:57,372 cromwell-system-akka.dispatchers.backend-dispatcher-134 WARN  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak_pr1:0:1]: Unrecognized runtime attribute keys: preemptible, disks, docker
2023-07-11 15:00:57,387 cromwell-system-akka.dispatchers.backend-dispatcher-134 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak_pr1:0:1]: `set -e

if [ 'macs2' == 'macs2' ]; then
    python3 $(which encode_task_macs2_atac.py) \
        /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr1/shard-0/inputs/-1887370995/alpha_midLate_disease.tagalign.gz.pr1.tagAlign.gz \
        --gensz mm \
        --chrsz /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr1/shard-0/inputs/-501775583/mm10_no_alt.chrom.sizes.tsv \
        --cap-num-peak 300000 \
        --pval-thresh 0.01 \
        --smooth-win 150 \
        --mem-gb 5.457598216831684
fi

python3 $(which encode_task_post_call_peak_atac.py) \
    $(ls *Peak.gz) \
    --ta /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr1/shard-0/inputs/-1887370995/alpha_midLate_disease.tagalign.gz.pr1.tagAlign.gz \
    --regex-bfilt-peak-chr-name 'chr[\dXY]+' \
    --chrsz /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr1/shard-0/inputs/-501775583/mm10_no_alt.chrom.sizes.tsv \
    --peak-type narrowPeak \
    --blacklist /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr1/shard-0/inputs/-501775583/ENCFF547MET.bed.gz`
2023-07-11 15:00:57,406 cromwell-system-akka.dispatchers.backend-dispatcher-134 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak_pr1:0:1]: executing: cat << EOF > /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr1/shard-0/execution/script.caper
#!/bin/bash

if [ 'true' == 'true' ] && [ 'conda' == 'singularity' ] || \
   [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' ]
then
    mkdir -p $HOME/.singularity/lock/
    flock --exclusive --timeout 600 \
        $HOME/.singularity/lock/`echo -n 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' | md5sum | cut -d' ' -f1` \
        singularity exec --containall https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif echo 'Successfully pulled https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif'

    singularity exec --cleanenv --home=`dirname /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr1/shard-0` \
        --bind=, \
         \
        https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr1/shard-0/execution/script

elif [ 'true' == 'true' ] && [ 'conda' == 'conda' ] || \
     [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'encd-atac-macs2' ]
then
    conda run --name=encd-atac-macs2 /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr1/shard-0/execution/script

else
    /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr1/shard-0/execution/script
fi

EOF

for ITER in 1 2 3
do
    sbatch --export=ALL -J cromwell_f1f4451e_call_peak_pr1 -D /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr1/shard-0 -o /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr1/shard-0/execution/stdout -e /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr1/shard-0/execution/stderr \
        -p akundaje  \
        -n 1 --ntasks-per-node=1 --cpus-per-task=1 --mem=5588M --time=1440  \
         \
        /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-call_peak_pr1/shard-0/execution/script.caper && exit 0
    sleep 30
done
exit 1
2023-07-11 15:01:08,158 cromwell-system-akka.dispatchers.backend-dispatcher-133 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak_pr2:0:1]: job id: 23827459
2023-07-11 15:01:08,159 cromwell-system-akka.dispatchers.backend-dispatcher-130 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak_pr1:0:1]: job id: 23827456
2023-07-11 15:01:08,168 cromwell-system-akka.dispatchers.backend-dispatcher-130 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak_pr1:0:1]: Cromwell will watch for an rc file but will *not* double-check whether this job is actually alive (unless Cromwell restarts)
2023-07-11 15:01:08,168 cromwell-system-akka.dispatchers.backend-dispatcher-133 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak_pr2:0:1]: Cromwell will watch for an rc file but will *not* double-check whether this job is actually alive (unless Cromwell restarts)
2023-07-11 15:01:08,169 cromwell-system-akka.dispatchers.backend-dispatcher-130 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak_pr1:0:1]: Status change f2023-07-11 15:01:40,082 cromwell-system-akka.dispatchers.backend-dispatcher-135 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(1c0d6449)atac.annot_enrich:0:1]: Status change from Running to Done
2023-07-11 15:02023-07-11 15:10:08,852 cromwell-system-akka.dispatchers.backend-dispatcher-213 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.annot_enrich:0:1]: Status change from Running to Done
2023-07-11 15:17:47,273 cromwell-system-akka.dispatchers.backend-dispatcher-250 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak:0:1]: Status change from Running to Done
2023-07-11 15:18:55,102 cromwell-system-akka.dispatchers.backend-dispatcher-324 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak_pr2:0:1]: Status change from Running to Done
2023-07-11 15:20:57,432 cromwell-system-akka.dispatchers.backend-dispatcher-350 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.call_peak_pr1:0:1]: Status change from Running to Done
2023-07-11 15:21:03,313 cromwell-system-akka.dispatchers.engine-dispatcher-27 INFO  - WorkflowExecutionActor-f1f4451e-3d36-4ab4-ae51-c777d08847e3 [UUID(f1f4451e)]: Starting atac.idr_pr, atac.overlap_pr
2023-07-11 15:21:03,352 cromwell-system-akka.dispatchers.engine-dispatcher-27 INFO  - Assigned new job execution tokens to the following groups: f1f4451e: 1
2023-07-11 15:21:03,359 cromwell-system-akka.dispatchers.engine-dispatcher-8 INFO  - BT-322 f1f4451e:atac.overlap_pr:0:1 is eligible for call caching with read = true and write = true
2023-07-11 15:21:03,367 cromwell-system-akka.dispatchers.engine-dispatcher-30 INFO  - BT-322 f1f4451e:atac.overlap_pr:0:1 cache hit copying nomatch: could not find a suitable cache hit.
2023-07-11 15:21:03,367 cromwell-system-akka.dispatchers.engine-dispatcher-30 INFO  - f1f4451e-3d36-4ab4-ae51-c777d08847e3-EngineJobExecutionActor-atac.overlap_pr:0:1 [UUID(f1f4451e)]: Could not copy a suitable cache hit for f1f4451e:atac.overlap_pr:0:1. No copy attempts were made.
2023-07-11 15:21:03,368 cromwell-system-akka.dispatchers.backend-dispatcher-353 WARN  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.overlap_pr:0:1]: Unrecognized runtime attribute keys: disks, docker
2023-07-11 15:21:03,393 cromwell-system-akka.dispatchers.backend-dispatcher-353 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.overlap_pr:0:1]: `set -e
touch null 
python3 $(which encode_task_overlap.py) \
    /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-overlap_pr/shard-0/inputs/-1239291944/alpha_midLate_disease.tagalign.gz.pr1.pval0.01.300K.narrowPeak.gz /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-overlap_pr/shard-0/inputs/-608833319/alpha_midLate_disease.tagalign.gz.pr2.pval0.01.300K.narrowPeak.gz /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-overlap_pr/shard-0/inputs/-1208073432/alpha_midLate_disease.tagalign.gz.pval0.01.300K.narrowPeak.gz \
    --prefix rep1-pr1_vs_rep1-pr2 \
    --peak-type narrowPeak \
    --chrsz /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-overlap_pr/shard-0/inputs/-501775583/mm10_no_alt.chrom.sizes.tsv \
    --blacklist /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-overlap_pr/shard-0/inputs/-501775583/ENCFF547MET.bed.gz \
    --nonamecheck \
    --regex-bfilt-peak-chr-name 'chr[\dXY]+' \
    --ta /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-overlap_pr/shard-0/inputs/-756605190/alpha_midLate_disease.tagalign.gz`
2023-07-11 15:21:03,411 cromwell-system-akka.dispatchers.backend-dispatcher-353 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.overlap_pr:0:1]: executing: cat << EOF > /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-overlap_pr/shard-0/execution/script.caper
#!/bin/bash

if [ 'true' == 'true' ] && [ 'conda' == 'singularity' ] || \
   [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' ]
then
    mkdir -p $HOME/.singularity/lock/
    flock --exclusive --timeout 600 \
        $HOME/.singularity/lock/`echo -n 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' | md5sum | cut -d' ' -f1` \
        singularity exec --containall https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif echo 'Successfully pulled https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif'

    singularity exec --cleanenv --home=`dirname /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-overlap_pr/shard-0` \
        --bind=, \
         \
        https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-overlap_pr/shard-0/execution/script

elif [ 'true' == 'true' ] && [ 'conda' == 'conda' ] || \
     [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'encd-atac' ]
then
    conda run --name=encd-atac /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-overlap_pr/shard-0/execution/script

else
    /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-overlap_pr/shard-0/execution/script
fi

EOF

for ITER in 1 2 3
do
    sbatch --export=ALL -J cromwell_f1f4451e_overlap_pr -D /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-overlap_pr/shard-0 -o /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-overlap_pr/shard-0/execution/stdout -e /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-overlap_pr/shard-0/execution/stderr \
        -p akundaje  \
        -n 1 --ntasks-per-node=1 --cpus-per-task=1 --mem=4096M --time=240  \
         \
        /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-overlap_pr/shard-0/execution/script.caper && exit 0
    sleep 30
done
exit 1
2023-07-11 15:21:05,352 cromwell-system-akka.dispatchers.engine-dispatcher-26 INFO  - Assigned new job execution tokens to the following groups: f1f4451e: 1
2023-07-11 15:21:05,358 cromwell-system-akka.dispatchers.engine-dispatcher-29 INFO  - BT-322 f1f4451e:atac.idr_pr:0:1 is eligible for call caching with read = true and write = true
2023-07-11 15:21:05,364 cromwell-system-akka.dispatchers.engine-dispatcher-7 INFO  - BT-322 f1f4451e:atac.idr_pr:0:1 cache hit copying nomatch: could not find a suitable cache hit.
2023-07-11 15:21:05,364 cromwell-system-akka.dispatchers.engine-dispatcher-7 INFO  - f1f4451e-3d36-4ab4-ae51-c777d08847e3-EngineJobExecutionActor-atac.idr_pr:0:1 [UUID(f1f4451e)]: Could not copy a suitable cache hit for f1f4451e:atac.idr_pr:0:1. No copy attempts were made.
2023-07-11 15:21:05,366 cromwell-system-akka.dispatchers.backend-dispatcher-326 WARN  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.idr_pr:0:1]: Unrecognized runtime attribute keys: disks, docker
2023-07-11 15:21:05,389 cromwell-system-akka.dispatchers.backend-dispatcher-326 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.idr_pr:0:1]: `set -e
touch null
python3 $(which encode_task_idr.py) \
    /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-idr_pr/shard-0/inputs/-1239291944/alpha_midLate_disease.tagalign.gz.pr1.pval0.01.300K.narrowPeak.gz /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-idr_pr/shard-0/inputs/-608833319/alpha_midLate_disease.tagalign.gz.pr2.pval0.01.300K.narrowPeak.gz /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-idr_pr/shard-0/inputs/-1208073432/alpha_midLate_disease.tagalign.gz.pval0.01.300K.narrowPeak.gz \
    --prefix rep1-pr1_vs_rep1-pr2 \
    --idr-thresh 0.05 \
    --peak-type narrowPeak \
    --idr-rank p.value \
    --chrsz /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-idr_pr/shard-0/inputs/-501775583/mm10_no_alt.chrom.sizes.tsv \
    --blacklist /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-idr_pr/shard-0/inputs/-501775583/ENCFF547MET.bed.gz \
    --regex-bfilt-peak-chr-name 'chr[\dXY]+' \
    --ta /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-idr_pr/shard-0/inputs/-756605190/alpha_midLate_disease.tagalign.gz`
2023-07-11 15:21:05,407 cromwell-system-akka.dispatchers.backend-dispatcher-326 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.idr_pr:0:1]: executing: cat << EOF > /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-idr_pr/shard-0/execution/script.caper
#!/bin/bash

if [ 'true' == 'true' ] && [ 'conda' == 'singularity' ] || \
   [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' ]
then
    mkdir -p $HOME/.singularity/lock/
    flock --exclusive --timeout 600 \
        $HOME/.singularity/lock/`echo -n 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' | md5sum | cut -d' ' -f1` \
        singularity exec --containall https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif echo 'Successfully pulled https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif'

    singularity exec --cleanenv --home=`dirname /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-idr_pr/shard-0` \
        --bind=, \
         \
        https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-idr_pr/shard-0/execution/script

elif [ 'true' == 'true' ] && [ 'conda' == 'conda' ] || \
     [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'encd-atac' ]
then
    conda run --name=encd-atac /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-idr_pr/shard-0/execution/script

else
    /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-idr_pr/shard-0/execution/script
fi

EOF

for ITER in 1 2 3
do
    sbatch --export=ALL -J cromwell_f1f4451e_idr_pr -D /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-idr_pr/shard-0 -o /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-idr_pr/shard-0/execution/stdout -e /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-idr_pr/shard-0/execution/stderr \
        -p akundaje  \
        -n 1 --ntasks-per-node=1 --cpus-per-task=1 --mem=4096M --time=240  \
         \
        /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-idr_pr/shard-0/execution/script.caper && exit 0
    sleep 30
done
exit 1
2023-07-11 15:21:18,155 cromwell-system-akka.dispatchers.backend-dispatcher-350 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.idr_pr:0:1]: job id: 23828871
2023-07-11 15:21:18,155 cromwell-system-akka.dispatchers.backend-dispatcher-326 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.overlap_pr:0:1]: job id: 23828870
2023-07-11 15:21:18,158 cromwell-system-akka.dispatchers.backend-dispatcher-352 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.idr_pr:0:1]: Cromwell will watch for an rc file but will *not* double-check whether this job is actually alive (unless Cromwell restarts)
2023-07-11 15:21:18,159 cromwell-system-akka.dispatchers.backend-dispatcher-353 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.overlap_pr:0:1]: Cromwell will watch for an rc file but will *not* double-check whether this job is actually alive (unless Cromwell restarts)
2023-07-11 15:21:18,159 cromwell-system-akka.dispatchers.backend-dispatcher-352 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.idr_pr:0:1]: Status change from - to Running
2023-07-11 15:21:18,159 cromwell-system-akka.dispatchers.backend-dispatcher-353 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.overlap_pr:0:1]: Status change from - to Running
2023-07-11 15:31:43,373 cromwell-system-akka.dispatchers.backend-dispatcher-471 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.overlap_pr:0:1]: Status change from Running to Done
2023-07-11 15:31:49,985 cromwell-system-akka.dispatchers.engine-dispatcher-30 INFO  - WorkflowExecutionActor-f1f4451e-3d36-4ab4-ae51-c777d08847e3 [UUID(f1f4451e)]: Starting atac.reproducibility_overlap
2023-07-11 15:31:51,351 cromwell-system-akka.dispatchers.engine-dispatcher-30 INFO  - Assigned new job execution tokens to the following groups: f1f4451e: 1
2023-07-11 15:31:51,363 cromwell-system-akka.dispatchers.engine-dispatcher-26 INFO  - BT-322 f1f4451e:atac.reproducibility_overlap:-1:1 is eligible for call caching with read = true and write = true
2023-07-11 15:31:51,370 cromwell-system-akka.dispatchers.engine-dispatcher-21 INFO  - BT-322 f1f4451e:atac.reproducibility_overlap:-1:1 cache hit copying nomatch: could not find a suitable cache hit.
2023-07-11 15:31:51,371 cromwell-system-akka.dispatchers.engine-dispatcher-21 INFO  - f1f4451e-3d36-4ab4-ae51-c777d08847e3-EngineJobExecutionActor-atac.reproducibility_overlap:NA:1 [UUID(f1f4451e)]: Could not copy a suitable cache hit for f1f4451e:atac.reproducibility_overlap:-1:1. No copy attempts were made.
2023-07-11 15:31:51,373 cromwell-system-akka.dispatchers.backend-dispatcher-471 WARN  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.reproducibility_overlap:NA:1]: Unrecognized runtime attribute keys: disks, docker
2023-07-11 15:31:51,390 cromwell-system-akka.dispatchers.backend-dispatcher-471 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.reproducibility_overlap:NA:1]: `set -e
python3 $(which encode_task_reproducibility.py) \
     \
    --peaks-pr /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_overlap/inputs/-1554226068/rep1-pr1_vs_rep1-pr2.overlap.bfilt.narrowPeak.gz \
     \
    --prefix overlap \
    --peak-type narrowPeak \
    --chrsz /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_overlap/inputs/-501775583/mm10_no_alt.chrom.sizes.tsv`
2023-07-11 15:31:51,416 cromwell-system-akka.dispatchers.backend-dispatcher-471 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.reproducibility_overlap:NA:1]: executing: cat << EOF > /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_overlap/execution/script.caper
#!/bin/bash

if [ 'true' == 'true' ] && [ 'conda' == 'singularity' ] || \
   [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' ]
then
    mkdir -p $HOME/.singularity/lock/
    flock --exclusive --timeout 600 \
        $HOME/.singularity/lock/`echo -n 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' | md5sum | cut -d' ' -f1` \
        singularity exec --containall https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif echo 'Successfully pulled https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif'

    singularity exec --cleanenv --home=`dirname /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_overlap` \
        --bind=, \
         \
        https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_overlap/execution/script

elif [ 'true' == 'true' ] && [ 'conda' == 'conda' ] || \
     [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'encd-atac' ]
then
    conda run --name=encd-atac /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_overlap/execution/script

else
    /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_overlap/execution/script
fi

EOF

for ITER in 1 2 3
do
    sbatch --export=ALL -J cromwell_f1f4451e_reproducibility_overlap -D /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_overlap -o /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_overlap/execution/stdout -e /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_overlap/execution/stderr \
        -p akundaje  \
        -n 1 --ntasks-per-node=1 --cpus-per-task=1 --mem=4096M --time=240  \
         \
        /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_overlap/execution/script.caper && exit 0
    sleep 30
done
exit 1
2023-07-11 15:31:53,153 cromwell-system-akka.dispatchers.backend-dispatcher-472 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.reproducibility_overlap:NA:1]: job id: 23829882
2023-07-11 15:31:53,155 cromwell-system-akka.dispatchers.backend-dispatcher-457 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.reproducibility_overlap:NA:1]: Cromwell will watch for an rc file but will *not* double-check whether this job is actually alive (unless Cromwell restarts)
2023-07-11 15:31:53,156 cromwell-system-akka.dispatchers.backend-dispatcher-457 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.reproducibility_overlap:NA:1]: Status change from - to Running
2023-07-11 15:34:20,472 cromwell-system-akka.dispatchers.backend-dispatcher-476 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.idr_pr:0:1]: Status change from Running to Done
2023-07-11 15:34:25,995 cromwell-system-akka.dispatchers.engine-dispatcher-8 INFO  - WorkflowExecutionActor-f1f4451e-3d36-4ab4-ae51-c777d08847e3 [UUID(f1f4451e)]: Starting atac.reproducibility_idr
2023-07-11 15:34:27,351 cromwell-system-akka.dispatchers.engine-dispatcher-8 INFO  - Assigned new job execution tokens to the following groups: f1f4451e: 1
2023-07-11 15:34:27,359 cromwell-system-akka.dispatchers.engine-dispatcher-8 INFO  - BT-322 f1f4451e:atac.reproducibility_idr:-1:1 is eligible for call caching with read = true and write = true
2023-07-11 15:34:27,365 cromwell-system-akka.dispatchers.engine-dispatcher-19 INFO  - BT-322 f1f4451e:atac.reproducibility_idr:-1:1 cache hit copying nomatch: could not find a suitable cache hit.
2023-07-11 15:34:27,367 cromwell-system-akka.dispatchers.engine-dispatcher-19 INFO  - f1f4451e-3d36-4ab4-ae51-c777d08847e3-EngineJobExecutionActor-atac.reproducibility_idr:NA:1 [UUID(f1f4451e)]: Could not copy a suitable cache hit for f1f4451e:atac.reproducibility_idr:-1:1. No copy attempts were made.
2023-07-11 15:34:27,368 cromwell-system-akka.dispatchers.backend-dispatcher-501 WARN  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.reproducibility_idr:NA:1]: Unrecognized runtime attribute keys: disks, docker
2023-07-11 15:34:27,383 cromwell-system-akka.dispatchers.backend-dispatcher-501 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.reproducibility_idr:NA:1]: `set -e
python3 $(which encode_task_reproducibility.py) \
     \
    --peaks-pr /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_idr/inputs/1573097212/rep1-pr1_vs_rep1-pr2.idr0.05.bfilt.narrowPeak.gz \
     \
    --prefix idr \
    --peak-type narrowPeak \
    --chrsz /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_idr/inputs/-501775583/mm10_no_alt.chrom.sizes.tsv`
2023-07-11 15:34:27,405 cromwell-system-akka.dispatchers.backend-dispatcher-501 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.reproducibility_idr:NA:1]: executing: cat << EOF > /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_idr/execution/script.caper
#!/bin/bash

if [ 'true' == 'true' ] && [ 'conda' == 'singularity' ] || \
   [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' ]
then
    mkdir -p $HOME/.singularity/lock/
    flock --exclusive --timeout 600 \
        $HOME/.singularity/lock/`echo -n 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' | md5sum | cut -d' ' -f1` \
        singularity exec --containall https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif echo 'Successfully pulled https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif'

    singularity exec --cleanenv --home=`dirname /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_idr` \
        --bind=, \
         \
        https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_idr/execution/script

elif [ 'true' == 'true' ] && [ 'conda' == 'conda' ] || \
     [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'encd-atac' ]
then
    conda run --name=encd-atac /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_idr/execution/script

else
    /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_idr/execution/script
fi

EOF

for ITER in 1 2 3
do
    sbatch --export=ALL -J cromwell_f1f4451e_reproducibility_idr -D /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_idr -o /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_idr/execution/stdout -e /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_idr/execution/stderr \
        -p akundaje  \
        -n 1 --ntasks-per-node=1 --cpus-per-task=1 --mem=4096M --time=240  \
         \
        /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-reproducibility_idr/execution/script.caper && exit 0
    sleep 30
done
exit 1
2023-07-11 15:34:28,153 cromwell-system-akka.dispatchers.backend-dispatcher-502 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.reproducibility_idr:NA:1]: job id: 23830019
2023-07-11 15:34:28,154 cromwell-system-akka.dispatchers.backend-dispatcher-503 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.reproducibility_idr:NA:1]: Cromwell will watch for an rc file but will *not* double-check whether this job is actually alive (unless Cromwell restarts)
2023-07-11 15:34:28,155 cromwell-system-akka.dispatchers.backend-dispatcher-503 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.reproducibility_idr:NA:1]: Status change from - to Running
2023-07-11 15:39:44,622 cromwell-system-akka.dispatchers.backend-dispat2023-07-11 16:26:11,574 cromwell-system-akka.dispatchers.backend-dispatcher-797 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(1c0d6449)atac.macs2_signal_track:0:1]: Status change from Running to Done
2023-07-11 16:26:18,873 cromwell-system-akka.dispatchers.engine-dispatcher-30 INFO  - WorkflowExecutionActor-1c0d6449-b166-48b2-82ec-c6f26166bb82023-07-11 17:36:04,343 cromwell-system-akka.dispatchers.backend-dispatcher-1543 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.macs2_signal_track:0:1]: Status change from Running to Done
2023-07-11 17:36:12,394 cromwell-system-akka.dispatchers.engine-dispatcher-27 INFO  - WorkflowExecutionActor-f1f4451e-3d36-4ab4-ae51-c777d08847e3 [UUID(f1f4451e)]: Starting atac.qc_report
2023-07-11 17:36:13,351 cromwell-system-akka.dispatchers.engine-dispatcher-27 INFO  - Assigned new job execution tokens to the following groups: f1f4451e: 1
2023-07-11 17:36:13,365 cromwell-system-akka.dispatchers.engine-dispatcher-21 INFO  - BT-322 f1f4451e:atac.qc_report:-1:1 is eligible for call caching with read = true and write = true
2023-07-11 17:36:13,373 cromwell-system-akka.dispatchers.engine-dispatcher-26 INFO  - BT-322 f1f4451e:atac.qc_report:-1:1 cache hit copying nomatch: could not find a suitable cache hit.
2023-07-11 17:36:14,472 cromwell-system-akka.dispatchers.engine-dispatcher-26 INFO  - f1f4451e-3d36-4ab4-ae51-c777d08847e3-EngineJobExecutionActor-atac.qc_report:NA:1 [UUID(f1f4451e)]: Could not copy a suitable cache hit for f1f4451e:atac.qc_report:-1:1. No copy attempts were made.
2023-07-11 17:36:14,480 cromwell-system-akka.dispatchers.backend-dispatcher-1614 WARN  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.qc_report:NA:1]: Unrecognized runtime attribute keys: disks, docker
2023-07-11 17:36:14,536 cromwell-system-akka.dispatchers.backend-dispatcher-1614 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.qc_report:NA:1]: `set -e
python3 $(which encode_task_qc_report.py) \
    --pipeline-prefix atac \
    --pipeline-ver v2.2.0 \
    --title 'Untitled' \
    --desc 'No description' \
    --genome mm10 \
    --multimapping 4 \
    --paired-ends true \
    --pipeline-type atac \
    --aligner bowtie2 \
     \
    --peak-caller macs2 \
    --cap-num-peak 300000 \
    --idr-thresh 0.05 \
    --pval-thresh 0.01 \
    --xcor-subsample-reads 25000000 \
    --frac-mito-qcs  \
    --samstat-qcs  \
    --nodup-samstat-qcs  \
    --dup-qcs  \
    --lib-complexity-qcs  \
    --xcor-plots  \
    --xcor-scores  \
    --idr-plots  \
    --idr-plots-pr /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/inputs/1593643406/rep1-pr1_vs_rep1-pr2.idr0.05.unthresholded-peaks.txt.png \
     \
    --jsd-qcs  \
     \
    --frip-qcs /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/inputs/1708695398/alpha_midLate_disease.tagalign.gz.pval0.01.300K.bfilt.frip.qc \
    --frip-qcs-pr1 /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/inputs/1677476886/alpha_midLate_disease.tagalign.gz.pr1.pval0.01.300K.bfilt.frip.qc \
    --frip-qcs-pr2 /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/inputs/-1987031785/alpha_midLate_disease.tagalign.gz.pr2.pval0.01.300K.bfilt.frip.qc \
     \
     \
     \
    --frip-idr-qcs  \
    --frip-idr-qcs-pr /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/inputs/1084841692/rep1-pr1_vs_rep1-pr2.idr0.05.bfilt.frip.qc \
     \
    --frip-overlap-qcs  \
    --frip-overlap-qcs-pr /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/inputs/-2042481588/rep1-pr1_vs_rep1-pr2.overlap.bfilt.frip.qc \
     \
    --idr-reproducibility-qc /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/inputs/-971846643/idr.reproducibility.qc \
    --overlap-reproducibility-qc /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/inputs/1820677917/overlap.reproducibility.qc \
    --annot-enrich-qcs /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/inputs/241044026/alpha_midLate_disease.tagalign.gz.annot_enrich.qc \
    --tss-enrich-qcs  \
    --tss-large-plots  \
    --roadmap-compare-plots  \
    --fraglen-dist-plots  \
    --fraglen-nucleosomal-qcs  \
    --gc-plots  \
    --preseq-plots  \
    --picard-est-lib-size-qcs  \
    --peak-region-size-qcs /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/inputs/848001187/alpha_midLate_disease.tagalign.gz.pval0.01.300K.bfilt.peak_region_size.qc \
    --peak-region-size-plots /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/inputs/-2017384662/alpha_midLate_disease.tagalign.gz.pval0.01.300K.bfilt.peak_region_size.png \
    --num-peak-qcs /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/inputs/1923613763/alpha_midLate_disease.tagalign.gz.pval0.01.300K.bfilt.num_peak.qc \
    --idr-opt-peak-region-size-qc /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/inputs/-1634671069/idr.optimal_peak.peak_region_size.qc \
    --idr-opt-peak-region-size-plot /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/inputs/-1707532358/overlap.optimal_peak.peak_region_size.png \
    --idr-opt-num-peak-qc /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/inputs/-559058493/idr.optimal_peak.num_peak.qc \
    --overlap-opt-peak-region-size-qc /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/inputs/1157853491/overlap.optimal_peak.peak_region_size.qc \
    --overlap-opt-peak-region-size-plot /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/inputs/-1707532358/overlap.optimal_peak.peak_region_size.png \
    --overlap-opt-num-peak-qc /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/inputs/-2061501229/overlap.optimal_peak.num_peak.qc \
    --out-qc-html qc.html \
    --out-qc-json qc.json \`
2023-07-11 17:36:14,575 cromwell-system-akka.dispatchers.backend-dispatcher-1614 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.qc_report:NA:1]: executing: cat << EOF > /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/execution/script.caper
#!/bin/bash

if [ 'true' == 'true' ] && [ 'conda' == 'singularity' ] || \
   [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' ]
then
    mkdir -p $HOME/.singularity/lock/
    flock --exclusive --timeout 600 \
        $HOME/.singularity/lock/`echo -n 'https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif' | md5sum | cut -d' ' -f1` \
        singularity exec --containall https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif echo 'Successfully pulled https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif'

    singularity exec --cleanenv --home=`dirname /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report` \
        --bind=, \
         \
        https://encode-pipeline-singularity-image.s3.us-west-2.amazonaws.com/atac-seq-pipeline_v2.2.0.sif /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/execution/script

elif [ 'true' == 'true' ] && [ 'conda' == 'conda' ] || \
     [ 'true' == 'false' ] && [ 'true' == 'true' ] && [ ! -z 'encd-atac' ]
then
    conda run --name=encd-atac /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/execution/script

else
    /bin/bash /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/execution/script
fi

EOF

for ITER in 1 2 3
do
    sbatch --export=ALL -J cromwell_f1f4451e_qc_report -D /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report -o /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/execution/stdout -e /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/execution/stderr \
        -p akundaje  \
        -n 1 --ntasks-per-node=1 --cpus-per-task=1 --mem=4096M --time=240  \
         \
        /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/execution/script.caper && exit 0
    sleep 30
done
exit 1
2023-07-11 17:36:18,154 cromwell-system-akka.dispatchers.backend-dispatcher-1614 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.qc_report:NA:1]: job id: 23838914
2023-07-11 17:36:18,155 cromwell-system-akka.dispatchers.backend-dispatcher-1617 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.qc_report:NA:1]: Cromwell will watch for an rc file but will *not* double-check whether this job is actually alive (unless Cromwell restarts)
2023-07-11 17:36:18,156 cromwell-system-akka.dispatchers.backend-dispatcher-1617 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.qc_report:NA:1]: Status change from - to Running
2023-07-11 17:53:09,584 cromwell-system-akka.dispatchers.backend-dispatcher-1734 INFO  - DispatchedConfigAsyncJobExecutionActor [UUID(f1f4451e)atac.qc_report:NA:1]: Status change from Running to Done
2023-07-11 17:53:11,911 cromwell-system-akka.dispatchers.engine-dispatcher-8 INFO  - WorkflowExecutionActor-f1f4451e-3d36-4ab4-ae51-c777d08847e3 [UUID(f1f4451e)]: Workflow atac complete. Final Outputs:
{
  "atac.report": "/scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/execution/glob-eae855c82d0f7e2185388856e7b2cc7b/qc.html",
  "atac.qc_json_ref_match": false,
  "atac.qc_json": "/scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/execution/glob-3440f922973abb7a616aaf203e0db08b/qc.json"
}
2023-07-11 17:53:13,250 cromwell-system-akka.dispatchers.engine-dispatcher-21 INFO  - WorkflowManagerActor: Workflow actor for f1f4451e-3d36-4ab4-ae51-c777d08847e3 completed with status 'Succeeded'. The workflow will be removed from the workflow store.
2023-07-11 17:54:25,935 cromwell-system-akka.dispatchers.engine-dispatcher-19 INFO  - SingleWorkflowRunnerActor workflow finished with status 'Succeeded'.
{
  "outputs": {
    "atac.qc_json_ref_match": false,
    "atac.report": "/scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/execution/glob-eae855c82d0f7e2185388856e7b2cc7b/qc.html",
    "atac.qc_json": "/scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/atac/f1f4451e-3d36-4ab4-ae51-c777d08847e3/call-qc_report/execution/glob-3440f922973abb7a616aaf203e0db08b/qc.json"
  },
  "id": "f1f4451e-3d36-4ab4-ae51-c777d08847e3"
}
2023-07-11 17:54:28,590 cromwell-system-akka.dispatchers.engine-dispatcher-30 INFO  - SingleWorkflowRunnerActor writing metadata to /scratch/users/ziwei75/ALS_colab/output/alpha_midLate_disease/.caper_tmp/atac/20230711_145053_921235/metadata.json
2023-07-11 17:54:28,616  INFO  - Workflow polling stopped
2023-07-11 17:54:28,624  INFO  - 0 workflows released by cromid-46a9c95
2023-07-11 17:54:28,627  INFO  - Shutting down WorkflowStoreActor - Timeout = 5 seconds
2023-07-11 17:54:28,630  INFO  - Shutting down WorkflowLogCopyRouter - Timeout = 5 seconds
2023-07-11 17:54:28,632  INFO  - Shutting down JobExecutionTokenDispenser - Timeout = 5 seconds
2023-07-11 17:54:28,634  INFO  - JobExecutionTokenDispenser stopped
2023-07-11 17:54:28,637  INFO  - WorkflowLogCopyRouter stopped
2023-07-11 17:54:28,640 cromwell-system-akka.dispatchers.engine-dispatcher-28 INFO  - Aborting all running workflows.
2023-07-11 17:54:28,641  INFO  - WorkflowStoreActor stopped
2023-07-11 17:54:28,641  INFO  - Shutting down WorkflowManagerActor - Timeout = 3600 seconds
2023-07-11 17:54:28,641 cromwell-system-akka.dispatchers.engine-dispatcher-8 INFO  - WorkflowManagerActor: All workflows finished
2023-07-11 17:54:28,642  INFO  - WorkflowManagerActor stopped
2023-07-11 17:54:28,888  INFO  - Connection pools shut down
2023-07-11 17:54:28,890  INFO  - Shutting down SubWorkflowStoreActor - Timeout = 1800 seconds
2023-07-11 17:54:28,890  INFO  - Shutting down JobStoreActor - Timeout = 1800 seconds
2023-07-11 17:54:28,890  INFO  - Shutting down CallCacheWriteActor - Timeout = 1800 seconds
2023-07-11 17:54:28,891  INFO  - Shutting down ServiceRegistryActor - Timeout = 1800 seconds
2023-07-11 17:54:28,891  INFO  - CallCacheWriteActor Shutting down: 0 queued messages to process
2023-07-11 17:54:28,891  INFO  - JobStoreActor stopped
2023-07-11 17:54:28,891  INFO  - CallCacheWriteActor stopped
2023-07-11 17:54:28,891  INFO  - SubWorkflowStoreActor stopped
2023-07-11 17:54:28,892  INFO  - Shutting down DockerHashActor - Timeout = 1800 seconds
2023-07-11 17:54:28,894  INFO  - Shutting down IoProxy - Timeout = 1800 seconds
2023-07-11 17:54:28,897  INFO  - WriteMetadataActor Shutting down: 0 queued messages to process
2023-07-11 17:54:28,897  INFO  - KvWriteActor Shutting down: 0 queued messages to process
2023-07-11 17:54:28,897  INFO  - IoProxy stopped
2023-07-11 17:54:28,903  INFO  - DockerHashActor stopped
2023-07-11 17:54:28,922  INFO  - ServiceRegistryActor stopped
2023-07-11 17:54:28,926  INFO  - Shutting down connection pool: curAllocated=0 idleQueues.size=0 waitQueue.size=0 maxWaitQueueLimit=256 closed=false
2023-07-11 17:54:28,926  INFO  - Shutting down connection pool: curAllocated=0 idleQueues.size=0 waitQueue.size=0 maxWaitQueueLimit=256 closed=false
2023-07-11 17:54:28,927  INFO  - Shutting down connection pool: curAllocated=0 idleQueues.size=0 waitQueue.size=0 maxWaitQueueLimit=256 closed=false
2023-07-11 17:54:28,932  INFO  - Database closed
2023-07-11 17:54:28,932  INFO  - Stream materializer shut down
2023-07-11 17:54:28,934  INFO  - WDL HTTP import resolver closed
